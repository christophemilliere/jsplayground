<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<title>Javascript par la pratique</title>
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
		<div>
			<ul id="allposts">

			</ul>
		</div>
		<script>
			console.log("je vais à l'entretien");
			const myJobPromise = new Promise((resolve, reject) => {
				setTimeout(() => {
					//resolve('Bravo Bravo');
					reject('Vous avez été null');
				}, 5000);
			});
			console.log("je rentre à la maison");

			/*
			myJobPromise.then((data) =>{
				console.log(data);
			}, (error) => {
				console.log(error);
			}); 
			myJobPromise.then((data) =>{
				console.log(data);
			}).catch( (error) => {
				console.log(error);
			});*/
			const URL_BASE = 'https://jsonplaceholder.typicode.com';
			let posts = [];
			const allpost = document.querySelector('#allposts');

			fetch(`${URL_BASE}/posts`)
				.then((result) => result.json())
				.then((blogPosts) => {
					blogPosts.forEach(bp => posts.push(bp));
					display(posts);
				});

				function display(collection) {
					const lis = posts.map(bp => `<li>${bp.title}</li>`).join('');

					allpost.innerHTML = lis;
				}
				
		</script>
	</body>

</html>